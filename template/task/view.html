{{define "title"}} Task {{end}} {{define "content"}}

<div class="panel panel-default">
	<div class="panel-heading">
		<h3 class="panel-title">{{.Task.Code}} - {{.Task.Name}}</h3>
	</div>
	<div class="panel-body">
		<form>
			<div class="row">
				<div class="form-group col-sm-3">
					<label for="ID">ID</label>
					<input type="text" class="form-control" name="ID" value="{{.Task.ID}}" readonly required>
				</div>

				<div class="form-group col-sm-3">
					<label for="Code">Code</label>
					<input type="text" class="form-control" name="Code" value="{{.Task.Code}}" {{.readonly}} required>
				</div>

				<div class="form-group col-sm-3 pull-right">
					<label for="ProjectID">Project</label>
					<input type="text" class="form-control" name="ProjectID" value="{{if .Task.Project}} {{.Task.Project.ID}} {{end}}" {{.readonly}}
					 required>
				</div>
			</div>

			<div class="row">
				<div class="form-group col-sm-6">
					<label for="Name">Name</label>
					<input type="text" class="form-control" name="Name" value="{{.Task.Name}}" {{.readonly}}>
				</div>

				<div class="form-group col-sm-3 pull-right">
					<label for="UserID">User</label>
					<input type="text" class="form-control" name="UserID" value="{{if .Task.User}} {{.Task.User.ID}} {{end}}" {{.readonly}}>
				</div>
			</div>

			<div class="form-horizontal">
				<div class="form-group">
					<div class="col-sm-12">
						<label for="Description">Description</label>
						<textarea class="form-control" name="Description" rows="5" style="resize: none;" {{.readonly}}>{{.Task.Description}}</textarea>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="form-group col-sm-4">
					<label for="StartDate">Start date</label>
					<input type="date" class="form-control" name="StartDate" value="{{.Task.StartDate}}" {{.readonly}} required>
				</div>

				<div class="form-group col-sm-4">
					<label for="PlanEndDate">Planned end date</label>
					<input type="date" class="form-control" name="PlanEndDate" value="{{.Task.PlanEndDate}}" {{.readonly}}>
				</div>

				<div class="form-group col-sm-4">
					<label for="EndDate">End date</label>
					<input type="date" class="form-control" name="EndDate" value="{{.Task.EndDate}}" {{.readonly}}>
				</div>
			</div>

			<div class="row">
				<div class="form-group col-sm-2 pull-right">
					{{if eq .Action "view"}}
					<a class="btn btn-default btn-primary pull-right" href="/tasks/edit/{{.Task.ID}}" role="button">Edit</a>
					{{else if eq .Action "edit"}}
					<div class="btn-group pull-right" role="group">
						<a href="/tasks/view/{{.Task.ID}}" class="btn btn-default">Cancel</a>
						<button type="submit" class="btn btn-default btn-success" formaction="/tasks" formmethod="POST">Save</button>
					</div>
					{{else if eq .Action "new"}}
					<div class="btn-group pull-right" role="group">
						<a href="/tasks/list" class="btn btn-default">Cancel</a>
						<button type="submit" class="btn btn-default btn-success" formaction="/tasks" formmethod="POST">Create</button>
					</div>
					{{end}}
				</div>
			</div>
		</form>
	</div>
</div>
{{ end }}